<h2 class="text-2xl font-bold text-gray-800 mb-6">
    <i class="fas fa-flag mr-2 text-red-600"></i>Báo cáo vi phạm
</h2>

{% if reports %}
<div class="space-y-4">
    {% for report in reports %}
    <div class="border rounded-lg p-4 bg-red-50 hover:shadow transition">
        <div class="flex justify-between items-start">
            <div>
                <p class="font-medium">
                    <a href="{{ url_for('post_detail', post_id=report.post.id) }}"
                        class="text-pink-600 hover:underline">
                        {{ report.post.title }}
                    </a>
                </p>
                <p class="text-sm text-gray-600">
                    Báo cáo bởi: <strong>{{ report.user.name }}</strong> • {{ report.created_at.strftime('%d/%m %H:%M')
                    }}
                </p>
                <p class="text-sm mt-1"><strong>Lý do:</strong> {{ report.reason }}</p>
            </div>
            <div class="flex gap-2">
                <!-- Nút Cảnh báo & Trừ điểm -->
                <form method="POST" action="{{ url_for('admin_warn_report', report_id=report.id) }}" class="inline">
                    <button type="submit" class="bg-yellow-600 text-white px-4 py-2 rounded text-sm hover:bg-yellow-700"
                        onclick="return confirm('Cảnh báo và trừ 50 điểm cho tác giả?')">
                        Cảnh báo & Trừ điểm
                    </button>
                </form>

                <!-- Nút Xóa bài -->
                <form method="POST" action="{{ url_for('admin_delete_post', post_id=report.post.id) }}" class="inline">
                    <button type="submit" class="bg-red-600 text-white px-4 py-2 rounded text-sm hover:bg-red-700"
                        onclick="return confirm('XÓA vĩnh viễn bài viết này?')">
                        Xóa bài
                    </button>
                </form>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<p class="text-center text-gray-500 py-8">Không có báo cáo nào.</p>
{% endif %}